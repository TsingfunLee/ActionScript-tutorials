<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
					   xmlns:s="library://ns.adobe.com/flex/spark" 
					   xmlns:mx="library://ns.adobe.com/flex/mx" width="262" height="374">

	<fx:Script>
		<![CDATA[
			var maxLength:int=32;       //可以输入的数字最大长度
			var val1String:String="";   //字符串，用来存储第一个加数
			var val2String:String="";   //字符串，用来存储第二个加数
			var sumNum:Number=0;        //数值，结果
			var typeInt:int=0;         //整数，用来判断操作      1-加法  2-减法  3-乘法  4-除法  5-取余
			
			protected function id_button_1_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"1";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
					    val2String=val2String+"1";
					    id_textarea_display.text=val2String;
					}
				}
			}

			protected function id_button_2_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
					    val1String=val1String+"2";
					    id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
					    val2String=val2String+"2";
					    id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_3_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"3";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"3";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_4_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"4";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"4";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_5_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"5";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"5";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_6_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"6";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"6";
						id_textarea_display.text=val2String;
					}
				}
			}

			
			protected function id_button_7_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"7";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"7";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_8_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"8";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"8";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_9_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"9";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"9";
						id_textarea_display.text=val2String;
					}
				}
			}
			
			
			protected function id_button_0_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val1String=val1String+"0";
						id_textarea_display.text=val1String;
					}
				}
				else
				{
					if(id_textarea_display.text.length<maxLength)
					{
						val2String=val2String+"0";
						id_textarea_display.text=val2String;
					}
				}
			}
			

			protected function id_button_plus_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				typeInt=1;
			}

			
			protected function id_button_minnor_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				typeInt=2;
			}
			
			
			protected function id_button_multiply_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				typeInt=3;
			}
			
			protected function id_button_chu_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				typeInt=4;
			}
			
			
			protected function id_button_quyu_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				typeInt=5;
			}


			protected function id_button_equal_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var val1Num:Number=Number(val1String);   //把第一个加数转换为数值类型
				var val2Num:Number=Number(val2String);   //把第二个加数转换为数值类型
				if(typeInt==1)
				{
					sumNum=val1Num+val2Num;       //把两个加数相加
					id_textarea_display.text=sumNum.toString();    //显示结果
					val2String="";
					val1String=sumNum.toString();
				}
				else if(typeInt==2)
				{
					sumNum=val1Num-val2Num;
					id_textarea_display.text=sumNum.toString();    //显示结果
					val2String="";
					val1String=sumNum.toString();
				}
				else if(typeInt==3)
				{
					sumNum=val1Num*val2Num;
					id_textarea_display.text=sumNum.toString();
					val2String="";
					val1String=sumNum.toString();
				}
				else if(typeInt==4)
				{
					sumNum=val1Num/val2Num;
					id_textarea_display.text=sumNum.toString();
					val2String="";
					val1String=sumNum.toString();
				}
				else if(typeInt==5)
				{
					sumNum=val1Num%val2Num;
					id_textarea_display.text=sumNum.toString();
					val2String="";
					val1String=sumNum.toString();
				}
			}


			protected function id_button_clear_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				val1String="";
				val2String="";
				typeInt=0;
				sumNum=0;
				id_textarea_display.text="0";
			}

			protected function id_button_CE_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				val2String="";
			}


			protected function id_button_backspace_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					var i:int=0;
					var valString:String=val1String;
					val1String="";
					for(;i<valString.length-1;i++)
					{
						val1String=val1String+valString.charAt(i);
					}
					id_textarea_display.text=val1String;
				}
				else
				{
					var i:int=0;
					var valString:String=val2String;
					val2String="";
					for(;i<valString.length-1;i++)
					{
						val2String=val2String+valString.charAt(i);
					}
					id_textarea_display.text=val2String;
				}
			}


			protected function id_button_dot_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				if(typeInt==0)
				{
					val1String=val1String+".";
				}
				else
				{
					val2String=val2String+".";
				}
			}
		]]>
	</fx:Script>

	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:TextArea x="28" y="23" height="53" width="207" id="id_textarea_display" text="0" verticalAlign="bottom" textAlign="right" fontSize="20" fontFamily="Arial" fontWeight="bold" textDecoration="none" lineThrough="false"/>
	<s:Button x="22" y="192.2" label="1" width="39" height="32" id="id_button_1" fontWeight="bold" click="id_button_1_clickHandler(event)"/>
	<s:Button x="66" y="192.05" label="2" height="32" width="39" fontWeight="bold" id="id_button_2" click="id_button_2_clickHandler(event)"/>
	<s:Button x="108.2" y="191.75" label="3" height="32" width="39" fontWeight="bold" id="id_button_3" click="id_button_3_clickHandler(event)"/>
	<s:Button x="160" y="192.65" label="=" height="32" width="39" fontWeight="bold" id="id_button_equal" click="id_button_equal_clickHandler(event)" chromeColor="#F09393"/>
	<s:Button x="160.15" y="152" label="+" height="32" width="39" fontWeight="bold" id="id_button_plus" click="id_button_plus_clickHandler(event)" chromeColor="#F09393"/>
	<s:Button x="202.65" y="152" label="-" height="32" width="39" fontWeight="bold" id="id_button_minnor" click="id_button_minnor_clickHandler(event)" chromeColor="#F09393"/>
	<s:Button x="159.65" y="109.5" label="*" height="32" width="39" fontWeight="bold" id="id_button_multiply" click="id_button_multiply_clickHandler(event)" chromeColor="#F09393"/>
	<s:Button x="22.3" y="109.2" label="7" width="39" height="32" id="id_button_7" fontWeight="bold" click="id_button_7_clickHandler(event)"/>
	<s:Button x="65.3" y="109.2" label="8" width="39" height="32" id="id_button_8" fontWeight="bold" click="id_button_8_clickHandler(event)"/>
	<s:Button x="108.3" y="109.2" label="9" width="39" height="32" id="id_button_9" fontWeight="bold" click="id_button_9_clickHandler(event)"/>
	<s:Button x="22.3" y="152" label="4" width="39" height="32" fontWeight="bold" id="id_button_4" click="id_button_4_clickHandler(event)"/>
	<s:Button x="65.3" y="152" label="5" width="39" height="32" fontWeight="bold" id="id_button_5" click="id_button_5_clickHandler(event)"/>
	<s:Button x="108.3" y="152" label="6" width="39" height="32" fontWeight="bold" click="id_button_6_clickHandler(event)" id="id_button_6"/>
	<s:Button x="202" y="109" label="/" width="39" height="32" fontWeight="bold" id="id_button_chu" click="id_button_chu_clickHandler(event)" chromeColor="#F09393"/>
	<s:Button x="108.1" y="232.4" label="C" width="39" height="32" fontWeight="bold" id="id_button_clear" click="id_button_clear_clickHandler(event)" chromeColor="#CCCCCC" color="#FF0000"/>
	<s:Button x="22" y="233" label="0" width="39" height="32" fontWeight="bold" id="id_button_0" click="id_button_0_clickHandler(event)"/>
	<s:Button x="202.65" y="231.65" label="CE" width="39" height="32" fontWeight="bold" id="id_button_CE" click="id_button_CE_clickHandler(event)" color="#FF0000"/>
	<s:Button x="160.3" y="231.3" label="退格" height="32" width="39" fontWeight="bold" id="id_button_backspace" click="id_button_backspace_clickHandler(event)" fontSize="10" fontFamily="Arial" chromeColor="#CCCCCC" color="#FF0000"/>
	<s:Button x="66.5" y="232.6" label="." width="39" height="32" fontWeight="bold" id="id_button_dot" click="id_button_dot_clickHandler(event)"/>
	<s:Button x="203.5" y="192.5" label="%" width="39" height="32" fontWeight="bold" id="id_button_quyu" click="id_button_quyu_clickHandler(event)" chromeColor="#F09393"/>
</s:WindowedApplication>
